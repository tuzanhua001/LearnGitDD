{"k_04iu881":">\r\n<!--[if IE]><","k_1020lug":">\r\n<html>\r\n  \r\n  <","k_0q2z06l":">\r\n    <meta charset=\"utf-8\">\r\n    <","k_06qljgz":">\r\n    <title>&#33150;&#35759;&#20113;&#21363;&#26102;&#36890;&#20449; IM Unity SDK&#65292;&#23448;&#26041;&#20351;&#29992;&#20132;&#27969;&#32676;&#65288;764231117&#65289; <","k_0zmzmui":">\r\n    <meta name=\"viewport\" content=\"width=device-width\">\r\n    <","k_0r3zdzf":">\r\n    <meta name=\"generator\" content=\"docfx 2.58.9.0\">\r\n    \r\n    <","k_0onjcat":">\r\n    <link rel=\"stylesheet\" href=\"styles/docfx.vendor.css\">\r\n    <","k_0j4qw7m":">\r\n    <link rel=\"stylesheet\" href=\"styles/main.css\">\r\n    <","k_0n40tle":">\r\n    <meta property=\"docfx:tocrel\" content=\"toc.html\">\r\n    \r\n    \r\n    \r\n  <","k_1wpk926":">\r\n  <body data-spy=\"scroll\" data-target=\"#affix\" data-offset=\"120\">\r\n    <","k_0x0l856":">\r\n      <header>\r\n        \r\n        <","k_166b0ru":">\r\n          <div class=\"container\">\r\n            <","k_0d26tzb":">\r\n              <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#navbar\">\r\n                <","k_0ka6g0u":">Toggle navigation</span>\r\n                <","k_0p6jbie":"></span>\r\n          <","k_1606g80":">\r\n              \r\n              <a class=\"navbar-brand\" href=\"index.html\">\r\n                <","k_1ses06j":">\r\n              </a>\r\n            <","k_1gn178w":">\r\n            <div class=\"collapse navbar-collapse\" id=\"navbar\">\r\n              <","k_09ugo95":">\r\n                <div class=\"form-group\">\r\n                  <","k_16oixe9":">\r\n    </div>\r\n    \r\n    <","k_16j36tv":">\r\n        </nav>\r\n        \r\n        <","k_00v2ufv":">\r\n          <div class=\"container hide-when-search\" id=\"breadcrumb\">\r\n            <","k_1sewae8":">\r\n              <li><","k_1toitir":">\r\n                </ul>\r\n              <","k_0lq0i6e":">\r\n      <div role=\"main\" class=\"container body-content hide-when-search\">\r\n        <","k_00dilwl":">\r\n          <div class=\"col-md-10\">\r\n            <","k_1ych64u":">\r\n<h3 id=\"腾讯云即时通信-im-unity-sdk官方使用交流群764231117\">腾讯云即时通信 IM Unity SDK，官方使用交流群（764231117）<","k_1sesn0m":">\n<ol>\n<","k_0pjh8lg":"><h5 id=\"下载最新的sdk打开unity编辑器通过assets-import-packages-custom-package导入\">下载最新的SDK，打开Unity编辑器通过Assets-&gt;import packages-&gt;custom package导入<","k_1trbiof":">\n</li>\n<","k_1q8wlqe":"><h5 id=\"前往腾讯云即时通信控制台创建应用获得sdk_app_id和secret信息sdk_app_id在初始化sdk时使用secret在生成usersig时使用\">前往腾讯云即时通信控制台创建应用，获得sdk_app_id和secret信息，sdk_app_id在初始化SDK时使用，secret在生成usersig时使用。<","k_05j8ex5":"><h5 id=\"在控制台-辅助工具生成userisg生产环境usersig请在后台生成\">在控制台-&gt;辅助工具生成userisg（生产环境，usersig请在后台生成）。<","k_0y9tfbc":"><h5 id=\"初始化sdk\">初始化SDK<","k_1tjfg76":">\n<pre><","k_0kqbymp":">\n// 第一步中申请的sdk_app_id;\nlong sdk_app_id = 0;\n\nSdkConfig sdkConfig = new SdkConfig();\n\n// 指定使用SDK时缓存数据的存储位置，注意文件的读写权限\nsdkConfig.sdk_config_config_file_path = Application.persistentDataPath + &quot;/TIM-Config&quot;;\n// 指定使用SDK时日志的存储位置，注意文件的读写权限\nsdkConfig.sdk_config_log_file_path = Application.persistentDataPath + &quot;/TIM-Log&quot;;\n\nTIMResult res = TencentIMSDK.Init(sdk_app_id, sdkConfig);\n\n</code><","k_1no67mh":"><p>注册全局事件监听<","k_0fyx0fq":">\n// 例如注册收到消息回调\nRecvNewMsgCallback(List&lt;Message&gt; message, string user_data){\n\n}\n\nTencentIMSDK.AddRecvNewMsgCallback(RecvNewMsgCallback);\n\n// 其他回调注册，如会话回调，收到加好友申请回调等，都在这里注册\n</code><","k_10i85k7":"><p>登录SDK<","k_0j9mmh8":">\nstring user_id = &quot;&quot;;\n\nstring user_sig = &quot;&quot;;\n\ncallback(int code, string desc, string json_param, string user_data) {\n\n}\nTIMResult res = TencentIMSDK.Login(user_id,user_sig, callback);\n\n\n</code><","k_0fhmiua":"><p>发送消息<","k_1ec2g3v":">\n// 此处演示发送C2C文本消息\nstring conv_id = &quot;user_id&quot;;\nMessage message = new Message();\nmessage.message_conv_id = conv_id;\nmessage.message_conv_type = TIMConvType.kTIMConv_C2C;\nList&lt;Elem&gt; messageElems = new List&lt;Elem&gt;();\nElem textMessage = new Elem();\ntextMessage.elem_type = TIMElemType.kTIMElem_Text;\ntextMessage.text_elem_content = &quot;hello&quot;;\nmessageElems.Add(textMessage);\nmessage.message_elem_array = messageElems;\nStringBuilder messageId = new StringBuilder(128);\n\ncallback(int code, string desc, string json_param, string user_data) {\n\n}\n\nTIMResult res = TencentIMSDK.MsgSendMessage(conv_id, TIMConvType.kTIMConv_C2C, message, messageId, callback);\n\n</code><","k_0j48cf4":"><p>其他api使用，请参考<","k_13476kv":">完整api文档</a><","k_1ow7ykp":"><h4 id=\"常见问题\">常见问题<","k_07mru0j":">editor调试SDK务必保证在代码热时调用Uninit，并且停止play</li>\n<","k_14qv20o":">editor调试设置如下unity-&gt;perferences-&gt;general-&gt;script change while playing 为stop playing and recompile。</li>\n<","k_0igekw9":">mac调试如显示IMSdkForMac.dylib显示已损坏，可执行sudo xattr -r -d com.apple.quarantine  ImSDKForMac.dylib</li>\n<","k_11mg8z2":">\n</article>\r\n          <","k_12ql6di":">\r\n          \r\n          <div class=\"hidden-sm col-md-2\" role=\"complementary\">\r\n            <","k_007z2a3":">\r\n              <div class=\"contribution\">\r\n                <","k_1jxsav0":">\r\n              <nav class=\"bs-docs-sidebar hidden-print hidden-xs hidden-sm affix\" id=\"affix\">\r\n                <","k_1s59v9u":">In This Article</h5>\r\n                <","k_0mumom8":">\r\n      \r\n      <footer>\r\n        <","k_0dq0j4j":">\r\n              <a href=\"#top\">Back to top<","k_0rrv0wk":">Generated by <strong>DocFX<","k_0qvsyg5":"></script>\r\n  <","k_003hl6v":">\r\n<"}